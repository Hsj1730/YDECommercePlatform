(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0b9d3c"],{3537:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-container"},[a("div",{staticClass:"head-container",staticStyle:{"margin-top":"-20px"}},[a("el-button",{staticClass:"filter-item",attrs:{size:"mini",type:"primary",icon:"el-icon-plus"},on:{click:t.add}},[t._v("新增")])],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:t.tableData,size:"small"}},[a("el-table-column",{attrs:{prop:"id",align:"center",label:"轮播图ID"}}),a("el-table-column",{attrs:{prop:"title",align:"center",label:"轮播图标题"}}),a("el-table-column",{attrs:{prop:"url",align:"center",label:"轮播图路由"}}),a("el-table-column",{ref:"table",attrs:{align:"center",width:"150",prop:"image",label:"轮播图图片"},scopedSlots:t._u([{key:"default",fn:function(t){return[a("a",{staticStyle:{color:"#42b983"},attrs:{href:t.row.image,target:"_blank"}},[a("img",{staticClass:"el-avatar",attrs:{src:t.row.image,alt:"点击打开"}})])]}}])}),a("el-table-column",{attrs:{prop:"sort",align:"center",label:"排序"}}),a("el-table-column",{attrs:{prop:"enable",align:"center",label:"状态"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{on:{click:function(a){return t.onEnable(e.row.id,e.row.enable)}}},["1"===e.row.enable?a("el-tag",{staticStyle:{cursor:"pointer"}},[t._v("启用")]):a("el-tag",{staticStyle:{cursor:"pointer"},attrs:{type:"info"}},[t._v("禁用")])],1)]}}])}),a("el-table-column",{attrs:{prop:"createTime",align:"center",label:"创建时间"}}),a("el-table-column",{attrs:{align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{staticStyle:{"margin-right":"10px"},attrs:{size:"mini",type:"primary",icon:"el-icon-edit"},on:{click:function(a){return t.edit(e.row.id)}}}),a("el-popover",{ref:e.row.id,attrs:{placement:"top",width:"180"}},[a("p",[t._v("确定要删除该商城轮播图吗？")]),a("div",{staticStyle:{"text-align":"right",margin:"0"}},[a("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(a){t.$refs[e.row.id].doClose()}}},[t._v("取消")]),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){return t.toDelete(e.row.id)}}},[t._v("确定")])],1),a("el-button",{attrs:{slot:"reference",type:"danger",icon:"el-icon-delete",size:"mini"},slot:"reference"})],1)]}}])},[a("template",{slot:"header"},[a("div",{staticStyle:{display:"inline-block",cursor:"pointer"},on:{click:t.toQuery}},[t._v(" 操作"),a("i",{staticClass:"el-icon-refresh",staticStyle:{"margin-left":"10px"}})])])],2)],1),a("el-pagination",{staticStyle:{float:"right","margin-top":"10px","padding-bottom":"10px"},attrs:{"current-page":t.page.current,"page-sizes":[10,20,50,100],"page-size":t.page.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:t.page.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}}),a("rotation-info",{ref:"rotationInfo",attrs:{"is-edit":t.isEdit}})],1)},i=[],o=a("6d02"),r={name:"index",components:{rotationInfo:o["default"]},data:function(){return{loading:!1,delLoading:!1,isEdit:!1,tableData:[],page:{current:1,pageSize:10,total:0}}},created:function(){this.init()},methods:{init:function(){this.page={current:1,pageSize:10,total:0},this.toQuery()},toQuery:function(){var t=this;this.loading=!0,this.$axios({method:"post",url:"/rotation/getRotationList",data:{pageNum:this.page.current,pageSize:this.page.pageSize}}).then((function(e){t.loading=!1,t.tableData=e.data.data.list,t.page.total=e.data.data.total,t.page.current=e.data.data.pageNum,t.page.pageSize=e.data.data.pageSize})).catch((function(){t.loading=!1}))},handleSizeChange:function(t){this.page.pageSize=t,this.toQuery()},handleCurrentChange:function(t){this.page.current=t,this.toQuery()},toDelete:function(t){var e=this;this.$axios({method:"post",url:"/rotation/deleteRotation/"+t}).then((function(t){200===t.data.code&&(e.$message.success("删除成功"),e.toQuery())}))},add:function(){this.isEdit=!1,this.$refs.rotationInfo.dialog=!0},edit:function(t){var e=this;this.$axios({method:"post",url:"/rotation/getRotationInfo/"+t}).then((function(t){e.isEdit=!0,e.$refs.rotationInfo.dialog=!0,e.$refs.rotationInfo.form=t.data.data}))},onEnable:function(t,e){var a=this;this.$confirm("确定进行[ ".concat("1"===e?"禁用":"启用"," ]操作?"),"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){a.$axios({method:"post",url:"/rotation/setRotationEnable/"+t+"/"+("1"===e?"0":"1")}).then((function(){a.$message({message:"操作成功",type:"success",duration:1e3,onClose:function(){a.toQuery()}})}))}))}}},l=r,s=a("2877"),c=Object(s["a"])(l,n,i,!1,null,"38b24a2f",null);e["default"]=c.exports}}]);